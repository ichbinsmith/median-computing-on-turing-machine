#Smith DJAMOURA - 2019.11.3 - SI4

#Fichier contenant les trois programmes du premier mini-projet





#MACHINE E1 - RECHERCHE DU MILIEU

NEW "E1" 1
START @I
END @YES "YES"
UNDEFINED @NO "NO"

FROM @I
'X S @TRANSFORM_TO_A

FROM @TRANSFORM_TO_A
'X 'A R @SKYPING_X_R
'_ L @RENAME_MIDDLE

FROM @SKYPING_X_R
'X R
'_ L @TRANSFORM_TO_B
'B L @RENAME_MOST_RIGHT_X_TO_B

FROM @TRANSFORM_TO_B
'X 'B L @SKYPING_X_L
'A S @RENAME_MIDDLE

FROM @SKYPING_X_L
'X L
'A R @RENAME_MOST_LEFT_X_TO_A

FROM @RENAME_MOST_LEFT_X_TO_A
'X 'A R @SKYPING_X_R
'B L @RENAME_MIDDLE

FROM @RENAME_MOST_RIGHT_X_TO_B
'X 'B L @SKYPING_X_L
'A S @RENAME_MIDDLE


FROM @RENAME_MIDDLE
'A 'Y R @RENAME_OTHER_AB_TO_X

FROM @RENAME_OTHER_AB_TO_X
'_ L @RENAME_LEFT_SIDE
'A|'B S @RENAME_RIGHT_SIDE

FROM @RENAME_RIGHT_SIDE
'A|'B 'X R
'_ L @RENAME_LEFT_SIDE

FROM @RENAME_LEFT_SIDE
'A|'B|'X 'X L
'Y 'Y L
'_ R @GO_TO_MIDDLE

FROM @GO_TO_MIDDLE
'Y S @YES
'X R










#MACHINE E2 - RECHERCHE DU MILIEU PLUS PERFORMANT

NEW "E2" 1
START @I
END @YES "YES"
UNDEFINED @NO "NO"

FROM @I
'X S @BEGIN

FROM @BEGIN
'X 'A R @ODD_A
'Z 'Z R

FROM @ODD_A
'X 'B R @ODD_B
'Z 'Z R
'_ L @DELETION_OF_B

FROM @ODD_B
'X 'A R @EVEN_A
'Z 'Z R
'_ L @DELETION_OF_B

FROM @EVEN_A
'X 'B R @B_EVEN
'Z 'Z R
'_ L @DELETION_OF_A

FROM @B_EVEN
'X 'A R @ODD_A
'Z 'Z R
'_ L @DELETION_OF_A


FROM @DELETION_OF_B #MODE
'Z 'Z L
'A 'X L
'B 'Z L @ONE_B_DELETED
'_ R @RENAME_THE_MIDDLE


FROM @ONE_B_DELETED
'Z 'Z L
'A 'X L
'B 'Z L @TWO_B_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @TWO_B_DELETED #MORE THAN ONE B DELETED IMPLIES MORE THAN ONE A EXIST
'Z 'Z L
'A 'X L
'B 'Z L 
'_ R @BEGIN

FROM @DELETION_OF_A #MODE
'Z 'Z L
'B 'X L
'A 'Z L @ONE_A_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @ONE_A_DELETED
'Z 'Z L
'B 'X L
'A 'Z L @TWO_A_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @TWO_A_DELETED
'Z 'Z L
'B 'X L
'A 'Z L @THREE_A_DELEDTED
'_ R @RENAME_THE_MIDDLE

FROM @THREE_A_DELEDTED #MORE THAN TWO A DELETED IMPLIES MORE THAN ONE B EXIST
'Z 'Z L
'B 'X L
'A 'Z L @THREE_A_DELEDTED
'_ R @BEGIN

FROM @RENAME_THE_MIDDLE
'Z 'X R
'X 'Y R @RENAME_RIGHT_SIDE_Z_TO_X

FROM @RENAME_RIGHT_SIDE_Z_TO_X
'Z 'X R
'X 'X R
'_ L @RETURN_TO_MIDDLE

FROM @RETURN_TO_MIDDLE
'X 'X L @RETURN_TO_MIDDLE
'Y S @YES








#MACHINE E3 - RESOLUTION DU PROBLEME DU DECOUPAGE

NEW "E3" 1
START @I
END @YES "YES"
UNDEFINED @NO "NO"

FROM @I
'X 'A R @ONE_LETTER

FROM @ONE_LETTER
'X 'B R @TWO_LETTERS
'_ L @RENAME_WHILE_LESS_THAN_4_LETTERS

FROM @TWO_LETTERS
'X 'A R @THREE_LETTERS
'_ L @RENAME_WHILE_LESS_THAN_4_LETTERS

FROM @THREE_LETTERS
'X 'B R @FOUR_LETTERS
'_ L @RENAME_WHILE_LESS_THAN_4_LETTERS

FROM @FOUR_LETTERS
'X S @BEGIN_MNO
'_ L @RENAME_WHILE_LESS_THAN_4_LETTERS

#WRITE 4321 OR 432 OR 43 OR 4
FROM @RENAME_WHILE_LESS_THAN_4_LETTERS 
'A|'B '4 L @CONTINUE_WRITE_3
'_ R @YES #END BECAUSE NOTHING ELSE TO WRITE AFTER THE 4 WE WROTE

FROM @CONTINUE_WRITE_3
'A|'B '3 L @CONTINUE_WRITE_2
'_ R @YES #END BECAUSE NOTHING ELSE TO WRITE AFTER THE 3 WE WROTE

FROM @CONTINUE_WRITE_2
'A|'B '2 L @CONTINUE_WRITE_1
'_ R @YES #END BECAUSE NOTHING ELSE TO WRITE AFTER THE 2 WE WROTE

FROM @CONTINUE_WRITE_1 
'A|'B '1 S @YES #WE CAN STOP AFTER WRITING 1
'_ R @YES #END BECAUSE NOTHING ELSE TO WRITE AFTER THE 1 WE WROTE


#WHEN WE ARE HERE THERE IS MORE THAN 4 LETTERS
#WE ARE GOING TO LOOK FOR M N O WHICH ARE 3 DIFFERENT MIDDLE OF THE ENTRY


FROM @BEGIN_MNO
'X 'A R @ODD_A
'Z 'Z R

FROM @ODD_A
'X 'B R @ODD_B
'Z 'Z R
'_ 'V L @DELETION_OF_B
'U|'V|'W L @DELETION_OF_B

FROM @ODD_B
'X 'A R @EVEN_A
'Z 'Z R
'_ 'V L @DELETION_OF_B
'U|'V|'W L @DELETION_OF_B

FROM @EVEN_A
'X 'B R @B_EVEN
'Z 'Z R
'_ 'W L @DELETION_OF_A
'U|'V|'W L @DELETION_OF_A

FROM @B_EVEN
'X 'A R @ODD_A
'Z 'Z R
'_ 'U L @DELETION_OF_A
'U|'V|'W L @DELETION_OF_A


FROM @DELETION_OF_B #MODE
'Z 'Z L
'A 'X L
'B 'Z L @ONE_B_DELETED
'_ R @RENAME_THE_MIDDLE


FROM @ONE_B_DELETED
'Z 'Z L
'A 'X L
'B 'Z L @TWO_B_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @TWO_B_DELETED #MORE THAN ONE B DELETED IMPLIES MORE THAN ONE A EXIST
'Z 'Z L
'A 'X L
'B 'Z L 
'_ R @BEGIN_MNO

FROM @DELETION_OF_A #MODE
'Z 'Z L
'B 'X L
'A 'Z L @ONE_A_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @ONE_A_DELETED
'Z 'Z L
'B 'X L
'A 'Z L @TWO_A_DELETED
'_ R @RENAME_THE_MIDDLE

FROM @TWO_A_DELETED
'Z 'Z L
'B 'X L
'A 'Z L @THREE_A_DELEDTED
'_ R @RENAME_THE_MIDDLE

FROM @THREE_A_DELEDTED #MORE THAN TWO A DELETED IMPLIES MORE THAN ONE B EXIST
'Z 'Z L
'B 'X L
'A 'Z L @THREE_A_DELEDTED
'_ R @BEGIN_MNO

FROM @RENAME_THE_MIDDLE
'Z R
'X 'N R @START_LOOKING_FOR_RIGHT_MIDDLE #NAMED O

# WE ARE GOING TO USE OUR PREVIOUS METHOD TO LOOK FOR THE RIGHT MIDDLE
FROM @START_LOOKING_FOR_RIGHT_MIDDLE
'Z|'X 'A R @ODD_A2
'Y 'Y R

FROM @ODD_A2
'Z|'X 'B R @ODD_B2
'Y 'Y R
'_|'U|'V|'W L @DELETION_OF_B2

FROM @ODD_B2
'Z|'X 'A R @EVEN_A2
'Y 'Y R
'_|'U|'V|'W  L @DELETION_OF_B2

FROM @EVEN_A2
'Z|'X 'B R @B_EVEN2
'Y 'Y R
'_|'U|'V|'W  L @DELETION_OF_A2

FROM @B_EVEN2
'Z|'X 'A R @ODD_A2
'Y 'Y R
'_|'U|'V|'W  L @DELETION_OF_A2


FROM @DELETION_OF_B2 #MODE
'Y 'Y L
'A 'Z L
'B 'Y L @ONE_B_DELETED2
'N R @RENAME_THE_MIDDLE2


FROM @ONE_B_DELETED2
'Y 'Y L
'A 'Z L
'B 'Y L @TWO_B_DELETED2
'N R @RENAME_THE_MIDDLE2

FROM @TWO_B_DELETED2 #MORE THAN ONE B DELETED IMPLIES MORE THAN ONE A EXIST
'Y 'Y L
'A 'Z L
'B 'Y L 
'N R @START_LOOKING_FOR_RIGHT_MIDDLE

FROM @DELETION_OF_A2 #MODE
'Y 'Y L
'B 'Z L
'A 'Y L @ONE_A_DELETED2
'N R @RENAME_THE_MIDDLE2

FROM @ONE_A_DELETED2
'Y 'Y L
'B 'Z L
'A 'Y L @TWO_A_DELETED2
'N R @RENAME_THE_MIDDLE2

FROM @TWO_A_DELETED2
'Y 'Y L
'B 'Z L
'A 'Y L @THREE_A_DELEDTED2
'N R @RENAME_THE_MIDDLE2

FROM @THREE_A_DELEDTED2 #MORE THAN TWO A DELETED IMPLIES MORE THAN ONE B EXIST
'Y 'Y L
'B 'Z L
'A 'Y L @THREE_A_DELEDTED2
'N R @START_LOOKING_FOR_RIGHT_MIDDLE

FROM @RENAME_THE_MIDDLE2
'Y 'Y R
'Z 'O L @GO_TO_ENTRY_BEGINNING #THE FIRST ONE NAMED N, THEN START LOOKING FOR LEFT MIDDLE

FROM @GO_TO_ENTRY_BEGINNING
'N|'Z|'Y L
'_ R @START_LOOKING_FOR_LEFT_MIDDLE

#LOOK FOR THE LAST MIDDLE NAMED M AND START WRITTING 1..2..3..4..

FROM @START_LOOKING_FOR_LEFT_MIDDLE
'Z 'A R @ODD_A3
'Y 'Y R

FROM @ODD_A3
'Z 'B R @ODD_B3
'Y 'Y R
'N L @DELETION_OF_B3

FROM @ODD_B3
'Z 'A R @EVEN_A3
'Y 'Y R
'N  L @DELETION_OF_B3

FROM @EVEN_A3
'Z 'B R @B_EVEN3
'Y 'Y R
'N  L @DELETION_OF_A3

FROM @B_EVEN3
'Z 'A R @ODD_A3
'Y 'Y R
'N  L @DELETION_OF_A3


FROM @DELETION_OF_B3 #MODE
'Y 'Y L
'A 'Z L
'B 'Y L @ONE_B_DELETED3
'_ R @RENAME_THE_MIDDLE3


FROM @ONE_B_DELETED3
'Y 'Y L
'A 'Z L
'B 'Y L @TWO_B_DELETED3
'_ R @RENAME_THE_MIDDLE3

FROM @TWO_B_DELETED3 #MORE THAN ONE B DELETED IMPLIES MORE THAN ONE A EXIST
'Y 'Y L
'A 'Z L
'B 'Y L 
'_ R @START_LOOKING_FOR_LEFT_MIDDLE

FROM @DELETION_OF_A3 #MODE
'Y 'Y L
'B 'Z L
'A 'Y L @ONE_A_DELETED3
'_ R @RENAME_THE_MIDDLE3

FROM @ONE_A_DELETED3
'Y 'Y L
'B 'Z L
'A 'Y L @TWO_A_DELETED3
'_ R @RENAME_THE_MIDDLE3

FROM @TWO_A_DELETED3
'Y 'Y L
'B 'Z L
'A 'Y L @THREE_A_DELEDTED3
'_ R @RENAME_THE_MIDDLE3

FROM @THREE_A_DELEDTED3 #MORE THAN TWO A DELETED IMPLIES MORE THAN ONE B EXIST
'Y 'Y L
'B 'Z L
'A 'Y L @THREE_A_DELEDTED3
'_ R @START_LOOKING_FOR_LEFT_MIDDLE

FROM @RENAME_THE_MIDDLE3
'Y 'Y R
'Z 'M L @GO_TO_ENTRY_END #START WRITING 1..2..3..4 ACCORDING TO THE ENDIND LATER U,V,W

FROM @GO_TO_ENTRY_END
'_ R
'M|'N|'O|'X|'Y|'Z R
'U '_ L @START_U_MODE
'V '_ L @START_V_MODE
'W '_ L @START_W_MODE

FROM @START_U_MODE
'Y|'Z '4 L
'O S @WRITE_3_SERIE_U

FROM @WRITE_3_SERIE_U
'O '3 L
'Y '3 L
'N S @WRITE_2_SERIE_U

FROM @WRITE_2_SERIE_U
'Y|'Z '2 L
'N '2 L
'M S @WRITE_1_SERIE_U

FROM @WRITE_1_SERIE_U
'M '1 L
'Y '1 L
'_ R @YES #END WHILE END OF TAPE

FROM @START_V_MODE
'Y|'Z '4 L
'O '4 L @WRITE_3_SERIE_V

FROM @WRITE_3_SERIE_V
'Y '3 L
'N '3 L @WRITE_2_SERIE_V

FROM @WRITE_2_SERIE_V
'Y|'Z '2 L
'M S @WRITE_1_SERIE_V

FROM @WRITE_1_SERIE_V
'M '1 L
'Y '1 L
'_ R @YES #END WHILE END OF TAPE

FROM @START_W_MODE
'Y|'Z '4 L
'O '4 L @WRITE_3_SERIE_W

FROM @WRITE_3_SERIE_W
'Y '3 L
'N '3 L @WRITE_2_SERIE_W

FROM @WRITE_2_SERIE_W
'Y|'Z '2 L
'M '2 L @WRITE_1_SERIE_W

FROM @WRITE_1_SERIE_W
'Y '1 L
'_ R @YES #END WHILE END OF TAPE








